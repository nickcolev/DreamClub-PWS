<html><head><title>PWS Method test</title>
<link href="/nick.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
var xmlReg = null;		// Global xmlHttpRequest
function get() {
	xhr("GET", "/test.htm", null);
}
function head() {
	xhr("HEAD", "/test.htm", null);
}
function options(resource) {
	xhr("OPTIONS", resource, null);
}
function trace() {
	xhr("TRACE", "/test.htm", null);
}
function post() {
	xhr("POST", "/post.txt", "POST test\n");
}
function put() {
	xhr("PUT", "/put.txt", "PUTÀÁÂ\n");
}
function del() {
	xhr("DELETE", "/tmp/test.htm", null);
}
function xhr(method, resource, data) {
  if (!xmlReg) xmlReg = new XMLHttpRequest();
  else if (xmlReg.readyState != 0) xmlReg.abort();
  //xmlReg.overrideMimeType("text/plain");
  xmlReg.onreadystatechange = function() {
    if (xmlReg.readyState == 4) {
		alert(xmlReg.status+": "+xmlReg.responseText);
	}
  }
console.log("CP83:", document.getElementById("host").value+resource);
  xmlReg.open(method, document.getElementById("host").value+resource, true);
  //xmlReg.setRequestHeader("Content-Type", "text/plain");
  xmlReg.send(data);
}
</script>
</head>
<body>

<h1>APWS method test</h1>

<form name="opt"><input id="host" value="http://localhost:8080"/></form>

<ul>
 <li><a href="javascript:get()">GET</a></li>
 <li><a href="javascript:head()">HEAD</a></li>
 <li><a href="javascript:options('/*')">OPTIONS</a><br/><small><a href="javascript:options('/tmp')">/tmp</a>, <a href="javascript:options('/test.htm')">/test.htm</a>, <a href="javascript:options('/foo')">/foo</a></small></li>
 <li><a href="javascript:trace()">TRACE</a></li>
 <li><a href="javascript:post()">POST</a></li>
 <li><a href="javascript:put()">PUT</a></li>
 <li><a href="javascript:del()">DELETE</a></li>
</ul>

<form name="data" onsubmit="return false">
 <input type="file" name="file"/>
 <input type="button" value=" PUT " onclick="put()"/>
</form>

</body></html>
